a=[0 1 0 ; 0 0 1 ; -1 -2 -3 ];
b= [0 0 1 ]';
q= [ 1 0 0 ; 0 0 0 ; 0 0 0];
r=1;
[K,~,~]=lqr(a,b, q,r)   %K constants for LQR Controller 
p=sym('p',[3,3])        %<- solving for K with symbolic variables
p=solve([p*a+transpose(a)*p+q-p*b/r*transpose(b)*p]==zeros(3),p)
struct2table(p)
p=[1.7652,1.5442,0.4142;1.5442,2.1407,0.6624;0.4142,0.6624,0.2132]
K=1/r*b'*p
Acl=a-b*K
eig(Acl)  % All poles in left hand plan -> stable
